import pickle
import numpy as np
import matplotlib.pyplot as plt
import os
import seaborn as sns

x = [0, 10, 20, 30, 40, 50, 60, 70]

# mnist 5000:
knn = [0.9955555555555555, 0.9515555555555556, 0.9282222222222222, 0.9071111111111111, 0.8886666666666667, 0.8673333333333333, 0.8546666666666667, 0.83]
koo = [0.9955555555555555, 0.9846666666666667, 0.974, 0.9591111111111111, 0.9491111111111111, 0.9335555555555556, 0.922, 0.8888888888888888]
ran = [0.9955555555555555, 0.9868888888888889, 0.9762222222222222, 0.9671111111111111, 0.9531111111111111, 0.934, 0.9208888888888889, 0.8808888888888889]

# knn = [0.972, 0.726, 0.164, 0.02, 0.016, 0.016, 0.012, 0.024]
# koo = [0.972, 0.942, 0.904, 0.88, 0.826, 0.752, 0.67, 0.462]
# ran = [0.972, 0.942, 0.916, 0.88, 0.842, 0.724, 0.664, 0.472]


# fashion 1000:
# knn = [0.9857142857142858, 0.9373626373626374, 0.8736263736263736, 0.856043956043956, 0.8340659340659341, 0.8142857142857143, 0.8208791208791208, 0.8296703296703297]
# koo = [0.9857142857142858, 0.9703296703296703, 0.9483516483516483, 0.9384615384615385, 0.9131868131868132, 0.9076923076923077, 0.8769230769230769, 0.8670329670329671]
# loo = [0.9857142857142858, 0.9659340659340659, 0.9538461538461539, 0.9362637362637363, 0.9098901098901099, 0.9, 0.865934065934066, 0.8505494505494505]
# tmc = [0.9857142857142858, 0.945054945054945, 0.9120879120879121, 0.8604395604395605, 0.8241758241758241, 0.8120879120879121, 0.8, 0.7945054945054945]
# g   = [0.9857142857142858, 0.9131868131868132, 0.8263736263736263, 0.7791208791208791, 0.7571428571428571, 0.6494505494505495, 0.4868131868131868, 0.4868131868131868]
# ran = [0.9857142857142858, 0.9758241758241758, 0.9582417582417583, 0.9428571428571428, 0.9197802197802197, 0.9065934065934066, 0.8901098901098901, 0.8428571428571429]

# knn = [0.9888888888888889, 0.6555555555555556, 0.4, 0.16666666666666666, 0.06666666666666667, 0.1111111111111111, 0.1, 0.1]
# koo = [0.9888888888888889, 0.9555555555555556, 0.9111111111111111, 0.9555555555555556, 0.9222222222222223, 0.8555555555555555, 0.8222222222222222, 0.6777777777777778]
# loo = [0.9888888888888889, 0.9888888888888889, 1.0, 0.9888888888888889, 0.9666666666666667, 0.9111111111111111, 0.6777777777777778, 0.5555555555555556]
# tmc = [0.9888888888888889, 0.7111111111111111, 0.3333333333333333, 0.23333333333333334, 0.13333333333333333, 0.13333333333333333, 0.14444444444444443, 0.17777777777777778]
# g   = [0.9888888888888889, 0.7888888888888889, 0.5777777777777777, 0.5444444444444444, 0.5444444444444444, 0.5222222222222223, 0.5666666666666667, 0.5666666666666667]
# ran = [0.9888888888888889, 0.9666666666666667, 0.9666666666666667, 0.9, 0.8333333333333334, 0.8, 0.5444444444444444, 0.4888888888888889]


# Pubfig 1000:
# knn = [1, 0.9322222222222222, 0.8555555555555555, 0.7833333333333333, 0.7044444444444444, 0.5844444444444444, 0.49444444444444446, 0.43444444444444447]
# koo = [1.0, 0.9366666666666666, 0.8922222222222222, 0.8388888888888889, 0.7822222222222223, 0.6777777777777778, 0.5966666666666667, 0.49333333333333335]
# ran = [1, 0.9488888888888889, 0.8988888888888888, 0.8333333333333334, 0.7833333333333333, 0.6944444444444444, 0.5755555555555556, 0.49333333333333335]

# knn = [1.0, 0.97, 0.99, 0.91, 0.82, 0.55, 0.3, 0.1]
# koo = [1.0, 1.0, 0.94, 0.96, 0.97, 0.96, 0.95, 0.89]
# ran = [1.0, 1.0, 0.96, 0.94, 0.91, 0.82, 0.82, 0.75]

plt.plot(x, np.array(knn) * 100, 'o-', color = 'purple', label = 'KNN-Shapley')
plt.plot(x, np.array(koo) * 100, 'o-', color='violet', label = 'KNN-LOO')
# plt.plot(x, np.array(loo) * 100, '^-', color = 'olive', label = "Leave-One-Out")
# plt.plot(x, np.array(tmc) * 100, 's-', color = 'blue', label = "TMC-Shapley")
# plt.plot(x, np.array(g) * 100, 's-', color = 'orange', label = "G-Shapley")
plt.plot(x, np.array(ran) * 100, '--', color='red', label = "Random")

plt.xlabel('Fraction of data removed (%)')
plt.ylabel('Model accuracy for benign data (%)')
plt.legend(loc='lower left')
plt.show()